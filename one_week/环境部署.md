nginx + php + php-pfm + mysql

一、nginx 安装部署

配置安装环境： centos

之前已经安装过nginx，这次不再重复安装。

二、php7.3.10 安装部署

1. 下载php源码包
   download：  https://www.php.net/downloads.php 
   wget https://www.php.net/distributions/php-7.3.10.tar.gz
   tar zvxf  php-7.3.10.tar.gz 

2. 配置安装所需环境
    yum install -y gcc gcc-c++ make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers
   {

   [root@VM_0_8_centos php-7.3.10]# cd /bin/php
   -bash: cd: /bin/php: No such file or directory
   [root@VM_0_8_centos php-7.3.10]# yum install -y gcc gcc-c++ make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers

   Loaded plugins: fastestmirror, langpacks
   Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast
   epel                                                                                     | 5.3 kB  00:00:00     
   extras                                                                                   | 2.9 kB  00:00:00     
   os                                                                                       | 3.6 kB  00:00:00     
   updates                                                                                  | 2.9 kB  00:00:00     
   (1/6): extras/7/x86_64/primary_db                                                        | 152 kB  00:00:00     
   (2/6): os/7/x86_64/group_gz                                                              | 165 kB  00:00:00     
   (3/6): epel/7/x86_64/updateinfo                                                          | 1.0 MB  00:00:00     
   (4/6): updates/7/x86_64/primary_db                                                       | 1.9 MB  00:00:00     
   (5/6): epel/7/x86_64/primary_db                                                          | 6.9 MB  00:00:01     
   (6/6): os/7/x86_64/primary_db                                                            | 6.0 MB  00:00:01     
   Determining fastest mirrors
   Package 2:libpng-1.5.13-7.el7_2.x86_64 already installed and latest version
   Package libxml2-2.9.1-6.el7_2.3.x86_64 already installed and latest version
   Package bzip2-1.0.6-13.el7.x86_64 already installed and latest version
   No package krb5 available.
   Resolving Dependencies
   --> Running transaction check
   ---> Package bzip2-devel.x86_64 0:1.0.6-13.el7 will be installed
   ---> Package curl.x86_64 0:7.29.0-35.el7.centos will be updated
   ---> Package curl.x86_64 0:7.29.0-54.el7 will be an update
   --> Processing Dependency: libcurl = 7.29.0-54.el7 for package: curl-7.29.0-54.el7.x86_64
   ---> Package e2fsprogs.x86_64 0:1.42.9-7.el7 will be updated
   ---> Package e2fsprogs.x86_64 0:1.42.9-16.el7 will be an update
   --> Processing Dependency: libss = 1.42.9-16.el7 for package: e2fsprogs-1.42.9-16.el7.x86_64
   --> Processing Dependency: libcom_err(x86-64) = 1.42.9-16.el7 for package: e2fsprogs-1.42.9-16.el7.x86_64
   --> Processing Dependency: e2fsprogs-libs(x86-64) = 1.42.9-16.el7 for package: e2fsprogs-1.42.9-16.el7.x86_64
   ---> Package e2fsprogs-devel.x86_64 0:1.42.9-16.el7 will be installed
   --> Processing Dependency: libcom_err-devel(x86-64) = 1.42.9-16.el7 for package: e2fsprogs-devel-1.42.9-16.el7.x86_64
   --> Processing Dependency: pkgconfig(com_err) for package: e2fsprogs-devel-1.42.9-16.el7.x86_64
   ---> Package freetype.x86_64 0:2.8-12.el7_6.1 will be updated
   ---> Package freetype.x86_64 0:2.8-14.el7 will be an update
   ---> Package freetype-devel.x86_64 0:2.8-14.el7 will be installed
   ---> Package gcc.x86_64 0:4.8.5-39.el7 will be installed
   --> Processing Dependency: libgomp = 4.8.5-39.el7 for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: cpp = 4.8.5-39.el7 for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: libgcc >= 4.8.5-39.el7 for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: libmpfr.so.4()(64bit) for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: libmpc.so.3()(64bit) for package: gcc-4.8.5-39.el7.x86_64
   ---> Package gcc-c++.x86_64 0:4.8.5-39.el7 will be installed
   --> Processing Dependency: libstdc++-devel = 4.8.5-39.el7 for package: gcc-c++-4.8.5-39.el7.x86_64
   --> Processing Dependency: libstdc++ = 4.8.5-39.el7 for package: gcc-c++-4.8.5-39.el7.x86_64
   ---> Package glib2.x86_64 0:2.46.2-4.el7 will be updated
   ---> Package glib2.x86_64 0:2.56.1-5.el7 will be an update
   ---> Package glib2-devel.x86_64 0:2.56.1-5.el7 will be installed
   ---> Package glibc.x86_64 0:2.17-157.el7_3.5 will be updated
   ---> Package glibc.x86_64 0:2.17-292.el7 will be an update
   --> Processing Dependency: glibc-common = 2.17-292.el7 for package: glibc-2.17-292.el7.x86_64
   ---> Package glibc-devel.x86_64 0:2.17-157.el7_3.5 will be updated
   --> Processing Dependency: glibc-devel = 2.17-157.el7_3.5 for package: glibc-static-2.17-157.el7_3.5.x86_64
   --> Processing Dependency: glibc-devel = 2.17-157.el7_3.5 for package: glibc-static-2.17-157.el7_3.5.i686
   ---> Package glibc-devel.x86_64 0:2.17-292.el7 will be an update
   --> Processing Dependency: glibc-headers = 2.17-292.el7 for package: glibc-devel-2.17-292.el7.x86_64
   ---> Package krb5-devel.x86_64 0:1.15.1-37.el7_7.2 will be installed
   --> Processing Dependency: libkadm5(x86-64) = 1.15.1-37.el7_7.2 for package: krb5-devel-1.15.1-37.el7_7.2.x86_64
   --> Processing Dependency: krb5-libs(x86-64) = 1.15.1-37.el7_7.2 for package: krb5-devel-1.15.1-37.el7_7.2.x86_64
   --> Processing Dependency: libverto-devel for package: krb5-devel-1.15.1-37.el7_7.2.x86_64
   --> Processing Dependency: libselinux-devel for package: krb5-devel-1.15.1-37.el7_7.2.x86_64
   --> Processing Dependency: keyutils-libs-devel for package: krb5-devel-1.15.1-37.el7_7.2.x86_64
   ---> Package libcurl-devel.x86_64 0:7.29.0-54.el7 will be installed
   os/7/x86_64/filelists_db                                                                 | 7.3 MB  00:00:01     
   updates/7/x86_64/filelists_db                                                            | 1.4 MB  00:00:00     
   ---> Package libjpeg-turbo.x86_64 0:1.2.90-5.el7 will be updated
   ---> Package libjpeg-turbo.x86_64 0:1.2.90-8.el7 will be an update
   ---> Package libjpeg-turbo-devel.x86_64 0:1.2.90-8.el7 will be installed
   ---> Package libpng-devel.x86_64 2:1.5.13-7.el7_2 will be installed
   ---> Package libxml2-devel.x86_64 0:2.9.1-6.el7_2.3 will be installed
   --> Processing Dependency: xz-devel for package: libxml2-devel-2.9.1-6.el7_2.3.x86_64
   ---> Package make.x86_64 1:3.82-21.el7 will be updated
   ---> Package make.x86_64 1:3.82-24.el7 will be an update
   ---> Package ncurses.x86_64 0:5.9-13.20130511.el7 will be updated
   ---> Package ncurses.x86_64 0:5.9-14.20130511.el7_4 will be an update
   --> Processing Dependency: ncurses-libs(x86-64) = 5.9-14.20130511.el7_4 for package: ncurses-5.9-14.20130511.el7_4.x86_64
   ---> Package ncurses-devel.x86_64 0:5.9-14.20130511.el7_4 will be installed
   ---> Package nss-pam-ldapd.x86_64 0:0.8.13-16.el7_6.1 will be installed
   --> Processing Dependency: nscd for package: nss-pam-ldapd-0.8.13-16.el7_6.1.x86_64
   ---> Package openldap.x86_64 0:2.4.40-8.el7 will be updated
   ---> Package openldap.x86_64 0:2.4.44-21.el7_6 will be an update
   ---> Package openldap-clients.x86_64 0:2.4.44-21.el7_6 will be installed
   ---> Package openldap-devel.x86_64 0:2.4.44-21.el7_6 will be installed
   --> Processing Dependency: cyrus-sasl-devel(x86-64) for package: openldap-devel-2.4.44-21.el7_6.x86_64
   ---> Package openldap-servers.x86_64 0:2.4.44-21.el7_6 will be installed
   --> Processing Dependency: libltdl.so.7()(64bit) for package: openldap-servers-2.4.44-21.el7_6.x86_64
   ---> Package openssl.x86_64 1:1.0.2k-8.el7 will be updated
   ---> Package openssl.x86_64 1:1.0.2k-19.el7 will be an update
   --> Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-19.el7 for package: 1:openssl-1.0.2k-19.el7.x86_64
   ---> Package openssl-devel.x86_64 1:1.0.2k-19.el7 will be installed
   ---> Package pcre.x86_64 0:8.32-15.el7_2.1 will be updated
   ---> Package pcre.x86_64 0:8.32-17.el7 will be an update
   ---> Package pcre-devel.x86_64 0:8.32-17.el7 will be installed
   ---> Package zlib.x86_64 0:1.2.7-15.el7 will be updated
   ---> Package zlib.x86_64 0:1.2.7-18.el7 will be an update
   ---> Package zlib-devel.x86_64 0:1.2.7-18.el7 will be installed
   --> Running transaction check
   ---> Package cpp.x86_64 0:4.8.5-39.el7 will be installed
   ---> Package cyrus-sasl-devel.x86_64 0:2.1.26-23.el7 will be installed
   --> Processing Dependency: cyrus-sasl-lib(x86-64) = 2.1.26-23.el7 for package: cyrus-sasl-devel-2.1.26-23.el7.x86_64
   --> Processing Dependency: cyrus-sasl(x86-64) = 2.1.26-23.el7 for package: cyrus-sasl-devel-2.1.26-23.el7.x86_64
   ---> Package e2fsprogs-libs.x86_64 0:1.42.9-7.el7 will be updated
   ---> Package e2fsprogs-libs.x86_64 0:1.42.9-16.el7 will be an update
   ---> Package glibc-common.x86_64 0:2.17-157.el7_3.5 will be updated
   --> Processing Dependency: glibc-common = 2.17-157.el7_3.5 for package: glibc-2.17-157.el7_3.5.i686
   ---> Package glibc-common.x86_64 0:2.17-292.el7 will be an update
   ---> Package glibc-headers.x86_64 0:2.17-157.el7_3.5 will be updated
   ---> Package glibc-headers.x86_64 0:2.17-292.el7 will be an update
   ---> Package glibc-static.i686 0:2.17-157.el7_3.5 will be updated
   ---> Package glibc-static.x86_64 0:2.17-157.el7_3.5 will be updated
   ---> Package glibc-static.i686 0:2.17-292.el7 will be an update
   ---> Package glibc-static.x86_64 0:2.17-292.el7 will be an update
   ---> Package keyutils-libs-devel.x86_64 0:1.5.8-3.el7 will be installed
   ---> Package krb5-libs.x86_64 0:1.14.1-27.el7_3 will be updated
   ---> Package krb5-libs.x86_64 0:1.15.1-37.el7_7.2 will be an update
   ---> Package libcom_err.x86_64 0:1.42.9-7.el7 will be updated
   ---> Package libcom_err.x86_64 0:1.42.9-16.el7 will be an update
   ---> Package libcom_err-devel.x86_64 0:1.42.9-16.el7 will be installed
   ---> Package libcurl.x86_64 0:7.29.0-35.el7.centos will be updated
   ---> Package libcurl.x86_64 0:7.29.0-54.el7 will be an update
   --> Processing Dependency: nss-pem(x86-64) >= 1.0.3-5 for package: libcurl-7.29.0-54.el7.x86_64
   --> Processing Dependency: libnss3.so(NSS_3.34)(64bit) for package: libcurl-7.29.0-54.el7.x86_64
   ---> Package libgcc.i686 0:4.8.5-4.el7 will be updated
   ---> Package libgcc.x86_64 0:4.8.5-4.el7 will be updated
   ---> Package libgcc.i686 0:4.8.5-39.el7 will be an update
   ---> Package libgcc.x86_64 0:4.8.5-39.el7 will be an update
   ---> Package libgomp.x86_64 0:4.8.5-4.el7 will be updated
   ---> Package libgomp.x86_64 0:4.8.5-39.el7 will be an update
   ---> Package libkadm5.x86_64 0:1.15.1-37.el7_7.2 will be installed
   ---> Package libmpc.x86_64 0:1.0.1-3.el7 will be installed
   ---> Package libselinux-devel.x86_64 0:2.5-14.1.el7 will be installed
   --> Processing Dependency: libselinux(x86-64) = 2.5-14.1.el7 for package: libselinux-devel-2.5-14.1.el7.x86_64
   --> Processing Dependency: libsepol-devel(x86-64) >= 2.5-10 for package: libselinux-devel-2.5-14.1.el7.x86_64
   --> Processing Dependency: pkgconfig(libsepol) for package: libselinux-devel-2.5-14.1.el7.x86_64
   ---> Package libss.x86_64 0:1.42.9-7.el7 will be updated
   ---> Package libss.x86_64 0:1.42.9-16.el7 will be an update
   ---> Package libstdc++.i686 0:4.8.5-4.el7 will be updated
   ---> Package libstdc++.x86_64 0:4.8.5-4.el7 will be updated
   ---> Package libstdc++.i686 0:4.8.5-39.el7 will be an update
   ---> Package libstdc++.x86_64 0:4.8.5-39.el7 will be an update
   ---> Package libstdc++-devel.x86_64 0:4.8.5-39.el7 will be installed
   ---> Package libtool-ltdl.x86_64 0:2.4.2-22.el7_3 will be installed
   ---> Package libverto-devel.x86_64 0:0.2.5-4.el7 will be installed
   ---> Package mpfr.x86_64 0:3.1.1-4.el7 will be installed
   ---> Package ncurses-libs.x86_64 0:5.9-13.20130511.el7 will be updated
   ---> Package ncurses-libs.x86_64 0:5.9-14.20130511.el7_4 will be an update
   --> Processing Dependency: ncurses-base = 5.9-14.20130511.el7_4 for package: ncurses-libs-5.9-14.20130511.el7_4.x86_64
   ---> Package nscd.x86_64 0:2.17-292.el7 will be installed
   ---> Package openssl-libs.x86_64 1:1.0.2k-8.el7 will be updated
   ---> Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be an update
   ---> Package xz-devel.x86_64 0:5.2.2-1.el7 will be installed
   --> Processing Dependency: xz-libs = 5.2.2-1.el7 for package: xz-devel-5.2.2-1.el7.x86_64
   --> Running transaction check
   ---> Package cyrus-sasl.x86_64 0:2.1.26-23.el7 will be installed
   ---> Package cyrus-sasl-lib.x86_64 0:2.1.26-19.2.el7 will be updated
   --> Processing Dependency: cyrus-sasl-lib(x86-64) = 2.1.26-19.2.el7 for package: cyrus-sasl-plain-2.1.26-19.2.el7.x86_64
   ---> Package cyrus-sasl-lib.x86_64 0:2.1.26-23.el7 will be an update
   ---> Package glibc.i686 0:2.17-157.el7_3.5 will be updated
   ---> Package glibc.i686 0:2.17-292.el7 will be an update
   ---> Package libselinux.i686 0:2.5-6.el7 will be updated
   ---> Package libselinux.x86_64 0:2.5-6.el7 will be updated
   --> Processing Dependency: libselinux(x86-64) = 2.5-6.el7 for package: libselinux-python-2.5-6.el7.x86_64
   --> Processing Dependency: libselinux(x86-64) = 2.5-6.el7 for package: libselinux-utils-2.5-6.el7.x86_64
   ---> Package libselinux.i686 0:2.5-14.1.el7 will be an update
   --> Processing Dependency: libsepol(x86-32) >= 2.5-10 for package: libselinux-2.5-14.1.el7.i686
   ---> Package libselinux.x86_64 0:2.5-14.1.el7 will be an update
   ---> Package libsepol-devel.x86_64 0:2.5-10.el7 will be installed
   ---> Package ncurses-base.noarch 0:5.9-13.20130511.el7 will be updated
   ---> Package ncurses-base.noarch 0:5.9-14.20130511.el7_4 will be an update
   ---> Package nss.x86_64 0:3.28.4-1.2.el7_3 will be updated
   --> Processing Dependency: nss = 3.28.4-1.2.el7_3 for package: nss-sysinit-3.28.4-1.2.el7_3.x86_64
   --> Processing Dependency: nss(x86-64) = 3.28.4-1.2.el7_3 for package: nss-tools-3.28.4-1.2.el7_3.x86_64
   ---> Package nss.x86_64 0:3.44.0-4.el7 will be an update
   --> Processing Dependency: nss-util >= 3.44.0-3 for package: nss-3.44.0-4.el7.x86_64
   --> Processing Dependency: nss-softokn(x86-64) >= 3.44.0-1 for package: nss-3.44.0-4.el7.x86_64
   --> Processing Dependency: nspr >= 4.21.0 for package: nss-3.44.0-4.el7.x86_64
   --> Processing Dependency: libnssutil3.so(NSSUTIL_3.39)(64bit) for package: nss-3.44.0-4.el7.x86_64
   --> Processing Dependency: libnssutil3.so(NSSUTIL_3.38)(64bit) for package: nss-3.44.0-4.el7.x86_64
   --> Processing Dependency: libnssutil3.so(NSSUTIL_3.31)(64bit) for package: nss-3.44.0-4.el7.x86_64
   ---> Package nss-pem.x86_64 0:1.0.3-7.el7 will be installed
   ---> Package xz-libs.i686 0:5.1.2-12alpha.el7 will be updated
   --> Processing Dependency: xz-libs = 5.1.2-12alpha.el7 for package: xz-5.1.2-12alpha.el7.x86_64
   ---> Package xz-libs.x86_64 0:5.1.2-12alpha.el7 will be updated
   ---> Package xz-libs.i686 0:5.2.2-1.el7 will be an update
   ---> Package xz-libs.x86_64 0:5.2.2-1.el7 will be an update
   --> Running transaction check
   ---> Package cyrus-sasl-plain.x86_64 0:2.1.26-19.2.el7 will be updated
   ---> Package cyrus-sasl-plain.x86_64 0:2.1.26-23.el7 will be an update
   ---> Package libselinux-python.x86_64 0:2.5-6.el7 will be updated
   ---> Package libselinux-python.x86_64 0:2.5-14.1.el7 will be an update
   ---> Package libselinux-utils.x86_64 0:2.5-6.el7 will be updated
   ---> Package libselinux-utils.x86_64 0:2.5-14.1.el7 will be an update
   ---> Package libsepol.i686 0:2.5-6.el7 will be updated
   ---> Package libsepol.x86_64 0:2.5-6.el7 will be updated
   ---> Package libsepol.i686 0:2.5-10.el7 will be an update
   ---> Package libsepol.x86_64 0:2.5-10.el7 will be an update
   ---> Package nspr.x86_64 0:4.13.1-1.0.el7_3 will be updated
   ---> Package nspr.x86_64 0:4.21.0-1.el7 will be an update
   ---> Package nss-softokn.x86_64 0:3.16.2.3-14.2.el7_2 will be updated
   ---> Package nss-softokn.x86_64 0:3.44.0-5.el7 will be an update
   --> Processing Dependency: nss-softokn-freebl(x86-64) >= 3.44.0-5.el7 for package: nss-softokn-3.44.0-5.el7.x86_64
   ---> Package nss-sysinit.x86_64 0:3.28.4-1.2.el7_3 will be updated
   ---> Package nss-sysinit.x86_64 0:3.44.0-4.el7 will be an update
   ---> Package nss-tools.x86_64 0:3.28.4-1.2.el7_3 will be updated
   ---> Package nss-tools.x86_64 0:3.44.0-4.el7 will be an update
   ---> Package nss-util.x86_64 0:3.28.4-1.0.el7_3 will be updated
   ---> Package nss-util.x86_64 0:3.44.0-3.el7 will be an update
   ---> Package xz.x86_64 0:5.1.2-12alpha.el7 will be updated
   ---> Package xz.x86_64 0:5.2.2-1.el7 will be an update
   --> Running transaction check
   ---> Package nss-softokn-freebl.i686 0:3.16.2.3-14.2.el7_2 will be updated
   ---> Package nss-softokn-freebl.x86_64 0:3.16.2.3-14.2.el7_2 will be updated
   ---> Package nss-softokn-freebl.i686 0:3.44.0-5.el7 will be an update
   ---> Package nss-softokn-freebl.x86_64 0:3.44.0-5.el7 will be an update
   --> Finished Dependency Resolution
   Error:  Multilib version problems found. This often means that the root
          cause is something else and multilib version checking is just
          pointing out that there is a problem. Eg.:
          
            1. You have an upgrade for pcre which is missing some
               dependency that another package requires. Yum is trying to
               solve this by installing an older version of pcre of the
               different architecture. If you exclude the bad architecture
               yum will tell you what the root cause is (which package
               requires what). You can try redoing the upgrade with
               --exclude pcre.otherarch ... this should give you an error
               message showing the root cause of the problem.
          
            2. You have multiple architectures of pcre installed, but
               yum can only see an upgrade for one of those architectures.
               If you don't want/need both architectures anymore then you
               can remove the one with the missing update and everything
               will work.
          
            3. You have duplicate versions of pcre installed already.
               You can use "yum check" to get yum show these errors.
          
          ...you can also use --setopt=protected_multilib=false to remove
          this checking, however this is almost never the correct thing to
          do as something else is very likely to go wrong (often causing
          much more problems).
          
          Protected multilib versions: pcre-8.32-17.el7.x86_64 != pcre-8.32-15.el7_2.1.i686
   Error: Protected multilib versions: zlib-1.2.7-18.el7.x86_64 != zlib-1.2.7-15.el7.i686
   Error: Protected multilib versions: glib2-2.56.1-5.el7.x86_64 != glib2-2.46.2-4.el7.i686

   }

3. 安装位置配置及启用拓展

   ./configure --prefix=/usr/local/php --exec-prefix=/usr/local/php --with-mysqli --with-pdo-mysql --with-gd --bindir=/usr/local/php/bin --sbindir=/usr/local/php/sbin --includedir=/usr/local/php/include --libdir=/usr/local/php/lib/php --mandir=/usr/local/php/php/man --with-config-file-path=/usr/local/php/etc --with-openssl --enable-mbstring --enable-fpm --enable-bcmath

   ![1571298176575](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571298176575.png)
   报错
   configure: error: in `/root/task/task_one/php-7.3.10':
   configure: error: no acceptable C compiler found in $PATH

    则，下载gcc软件编译器 yum install -y gcc . 再编译一次

   再次编译过程：[root@VM_0_8_centos php-7.3.10]# ./configure --prefix=/usr/local/php --exec-prefix=/usr/local/php --with-mysqli --with-pdo-mysql --with-gd --bindir=/usr/local/php/bin --sbindir=/usr/local/php/sbin --includedir=/usr/local/php/include --libdir=/usr/local/php/lib/php --mandir=/usr/local/php/php/man --with-config-file-path=/usr/local/php/etc --with-openssl --enable-mbstring --enable-fpm --enable-bcmath
   checking for grep that handles long lines and -e... /usr/bin/grep
   checking for egrep... /usr/bin/grep -E
   checking for a sed that does not truncate output... /usr/bin/sed
   checking build system type... x86_64-pc-linux-gnu
   checking host system type... x86_64-pc-linux-gnu
   checking target system type... x86_64-pc-linux-gnu
   checking for cc... no
   checking for gcc... no
   configure: error: in `/root/task/task_one/php-7.3.10':
   configure: error: no acceptable C compiler found in $PATH
   See `config.log' for more details
   [root@VM_0_8_centos php-7.3.10]# yum install -y gcc
   Loaded plugins: fastestmirror, langpacks
   Loading mirror speeds from cached hostfile
   Resolving Dependencies
   --> Running transaction check
   ---> Package gcc.x86_64 0:4.8.5-39.el7 will be installed
   --> Processing Dependency: libgomp = 4.8.5-39.el7 for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: cpp = 4.8.5-39.el7 for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: libgcc >= 4.8.5-39.el7 for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: libmpfr.so.4()(64bit) for package: gcc-4.8.5-39.el7.x86_64
   --> Processing Dependency: libmpc.so.3()(64bit) for package: gcc-4.8.5-39.el7.x86_64
   --> Running transaction check
   ---> Package cpp.x86_64 0:4.8.5-39.el7 will be installed
   ---> Package libgcc.i686 0:4.8.5-4.el7 will be updated
   ---> Package libgcc.x86_64 0:4.8.5-4.el7 will be updated
   ---> Package libgcc.i686 0:4.8.5-39.el7 will be an update
   ---> Package libgcc.x86_64 0:4.8.5-39.el7 will be an update
   ---> Package libgomp.x86_64 0:4.8.5-4.el7 will be updated
   ---> Package libgomp.x86_64 0:4.8.5-39.el7 will be an update
   ---> Package libmpc.x86_64 0:1.0.1-3.el7 will be installed
   ---> Package mpfr.x86_64 0:3.1.1-4.el7 will be installed
   --> Finished Dependency Resolution

   Dependencies Resolved

   ================================================================================================================
    Package                   Arch                     Version                          Repository            Size
   ================================================================================================================
   Installing:
    gcc                       x86_64                   4.8.5-39.el7                     os                    16 M
   Installing for dependencies:
    cpp                       x86_64                   4.8.5-39.el7                     os                   5.9 M
    libmpc                    x86_64                   1.0.1-3.el7                      os                    51 k
    mpfr                      x86_64                   3.1.1-4.el7                      os                   203 k
   Updating for dependencies:
    libgcc                    i686                     4.8.5-39.el7                     os                   110 k
    libgcc                    x86_64                   4.8.5-39.el7                     os                   102 k
    libgomp                   x86_64                   4.8.5-39.el7                     os                   158 k

   Transaction Summary
   ================================================================================================================
   Install  1 Package  (+3 Dependent packages)
   Upgrade             ( 3 Dependent packages)

   Total download size: 23 M
   Downloading packages:
   Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
   (1/7): cpp-4.8.5-39.el7.x86_64.rpm                                                       | 5.9 MB  00:00:01     
   (2/7): libgcc-4.8.5-39.el7.i686.rpm                                                      | 110 kB  00:00:00     
   (3/7): libgcc-4.8.5-39.el7.x86_64.rpm                                                    | 102 kB  00:00:00     
   (4/7): libgomp-4.8.5-39.el7.x86_64.rpm                                                   | 158 kB  00:00:00     
   (5/7): gcc-4.8.5-39.el7.x86_64.rpm                                                       |  16 MB  00:00:01     
   (6/7): libmpc-1.0.1-3.el7.x86_64.rpm                                                     |  51 kB  00:00:00     
   (7/7): mpfr-3.1.1-4.el7.x86_64.rpm                                                       | 203 kB  00:00:00     
   ----------------------------------------------------------------------------------------------------------------
   Total                                                                            14 MB/s |  23 MB  00:00:01     
   Running transaction check
   Running transaction test
   Transaction test succeeded
   Running transaction
     Installing : mpfr-3.1.1-4.el7.x86_64                                                                     1/10 
     Installing : libmpc-1.0.1-3.el7.x86_64                                                                   2/10 
     Installing : cpp-4.8.5-39.el7.x86_64                                                                     3/10 
     Updating   : libgomp-4.8.5-39.el7.x86_64                                                                 4/10 
     Updating   : libgcc-4.8.5-39.el7.x86_64                                                                  5/10 
     Installing : gcc-4.8.5-39.el7.x86_64                                                                     6/10 
     Updating   : libgcc-4.8.5-39.el7.i686                                                                    7/10 
     Cleanup    : libgcc-4.8.5-4.el7                                                                          8/10 
     Cleanup    : libgomp-4.8.5-4.el7.x86_64                                                                  9/10 
     Cleanup    : libgcc-4.8.5-4.el7                                                                         10/10 
     Verifying  : mpfr-3.1.1-4.el7.x86_64                                                                     1/10 
     Verifying  : libgcc-4.8.5-39.el7.x86_64                                                                  2/10 
     Verifying  : libgomp-4.8.5-39.el7.x86_64                                                                 3/10 
     Verifying  : libmpc-1.0.1-3.el7.x86_64                                                                   4/10 
     Verifying  : cpp-4.8.5-39.el7.x86_64                                                                     5/10 
     Verifying  : gcc-4.8.5-39.el7.x86_64                                                                     6/10 
     Verifying  : libgcc-4.8.5-39.el7.i686                                                                    7/10 
     Verifying  : libgcc-4.8.5-4.el7.i686                                                                     8/10 
     Verifying  : libgomp-4.8.5-4.el7.x86_64                                                                  9/10 
     Verifying  : libgcc-4.8.5-4.el7.x86_64                                                                  10/10 

   Installed:
     gcc.x86_64 0:4.8.5-39.el7                                                                                     

   Dependency Installed:
     cpp.x86_64 0:4.8.5-39.el7           libmpc.x86_64 0:1.0.1-3.el7           mpfr.x86_64 0:3.1.1-4.el7          

   Dependency Updated:
     libgcc.i686 0:4.8.5-39.el7         libgcc.x86_64 0:4.8.5-39.el7         libgomp.x86_64 0:4.8.5-39.el7        

   Complete!
   [root@VM_0_8_centos php-7.3.10]# ./configure --prefix=/usr/local/php --exec-prefix=/usr/local/php --with-mysqli --with-pdo-mysql --with-gd --bindir=/usr/local/php/bin --sbindir=/usr/local/php/sbin --includedir=/usr/local/php/include --libdir=/usr/local/php/lib/php --mandir=/usr/local/php/php/man --with-config-file-path=/usr/local/php/etc --with-openssl --enable-mbstring --enable-fpm --enable-bcmath
   ^[[Cchecking for grep that handles long lines and -e... /usr/bin/grep
   checking for egrep... /usr/bin/grep -E
   checking for a sed that does not truncate output... /usr/bin/sed
   checking build system type... x86_64-pc-linux-gnu
   checking host system type... x86_64-pc-linux-gnu
   checking target system type... x86_64-pc-linux-gnu
   checking for cc... cc
   checking whether the C compiler works... yes
   checking for C compiler default output file name... a.out
   checking for suffix of executables... 
   checking whether we are cross compiling... no
   checking for suffix of object files... o
   checking whether we are using the GNU C compiler... yes
   checking whether cc accepts -g... yes
   checking for cc option to accept ISO C89... none needed
   checking how to run the C preprocessor... cc -E
   checking for icc... no
   checking for suncc... no
   checking whether cc understands -c and -o together... yes
   checking how to run the C preprocessor... cc -E
   checking for ANSI C header files... yes
   checking for sys/types.h... yes
   checking for sys/stat.h... yes
   checking for stdlib.h... yes
   checking for string.h... yes
   checking for memory.h... yes
   checking for strings.h... yes
   checking for inttypes.h... yes
   checking for stdint.h... yes
   checking for unistd.h... yes
   checking minix/config.h usability... no
   checking minix/config.h presence... no
   checking for minix/config.h... no
   checking whether it is safe to define __EXTENSIONS__... yes
   checking whether ln -s works... yes
   checking for system library directory... lib
   checking whether to enable runpaths... yes
   checking if compiler supports -R... no
   checking if compiler supports -Wl,-rpath,... yes
   checking for gawk... gawk
   checking for bison... no
   checking for byacc... no
   checking for bison version... invalid
   configure: WARNING: This bison version is not supported for regeneration of the Zend/PHP parsers (found: none, min: 204, excluded: ).
   checking for re2c... no
   configure: WARNING: You will need re2c 0.13.4 or later if you want to regenerate PHP parsers.
   checking whether to enable computed goto gcc extension with re2c... no
   checking whether C compiler accepts -fvisibility=hidden... yes
   checking whether to force non-PIC code in shared modules... no
   checking whether /dev/urandom exists... yes
   checking whether /dev/arandom exists... no
   checking for global register variables support... yes
   checking whether atof() accepts NAN... no
   checking whether atof() accepts INF... no
   checking whether HUGE_VAL == INF... yes
   checking whether HUGE_VAL + -HUGEVAL == NAN... no
   checking whether __cpuid_count is available... yes
   checking for pthreads_cflags... -pthread
   checking for pthreads_lib... pthread

   Configuring SAPI modules
   checking for Apache 2.0 handler-module support via DSO through APXS... no
   checking for setproctitle... no
   checking sys/pstat.h usability... no
   checking sys/pstat.h presence... no
   checking for sys/pstat.h... no
   checking for PS_STRINGS... no
   checking for CLI build... yes
   checking for embedded SAPI library support... no
   checking for FPM build... yes
   checking for setenv... yes
   checking for clearenv... yes
   checking for setproctitle... (cached) no
   checking for setproctitle_fast... no
   checking for library containing socket... none required
   checking for library containing inet_addr... none required
   checking errno.h usability... yes
   checking errno.h presence... yes
   checking for errno.h... yes
   checking fcntl.h usability... yes
   checking fcntl.h presence... yes
   checking for fcntl.h... yes
   checking stdio.h usability... yes
   checking stdio.h presence... yes
   checking for stdio.h... yes
   checking for stdlib.h... (cached) yes
   checking for unistd.h... (cached) yes
   checking sys/uio.h usability... yes
   checking sys/uio.h presence... yes
   checking for sys/uio.h... yes
   checking sys/select.h usability... yes
   checking sys/select.h presence... yes
   checking for sys/select.h... yes
   checking sys/socket.h usability... yes
   checking sys/socket.h presence... yes
   checking for sys/socket.h... yes
   checking sys/time.h usability... yes
   checking sys/time.h presence... yes
   checking for sys/time.h... yes
   checking arpa/inet.h usability... yes
   checking arpa/inet.h presence... yes
   checking for arpa/inet.h... yes
   checking netinet/in.h usability... yes
   checking netinet/in.h presence... yes
   checking for netinet/in.h... yes
   checking sysexits.h usability... yes
   checking sysexits.h presence... yes
   checking for sysexits.h... yes
   checking for prctl... yes
   checking for clock_gettime... yes
   checking for ptrace... yes
   checking whether ptrace works... yes
   checking for proc mem file... mem
   checking if gcc supports __sync_bool_compare_and_swap... yes
   checking for TCP_INFO... yes
   checking for sysconf... yes
   checking for times... yes
   checking for kqueue... no
   checking for port framework... no
   checking for /dev/poll... no
   checking for epoll... yes
   checking for poll... yes
   checking for select... yes
   checking for apparmor... no
   checking for LiteSpeed support... no
   checking for phpdbg support... yes
   checking for phpdbg web SAPI support... no
   checking for phpdbg debug build... no
   checking for phpdbg readline support... no
   checking whether termios.h defines TIOCGWINSZ... no
   checking whether sys/ioctl.h defines TIOCGWINSZ... yes
   checking for phpdbg and readline integration... disabled
   checking for CGI build... yes
   checking for socklen_t in sys/socket.h... yes
   checking for sun_len in sys/un.h... no
   checking whether cross-process locking is required by accept()... no
   checking for chosen SAPI module... none
   checking for executable SAPI binaries...  cli fpm phpdbg cgi

   Running system checks
   checking for sendmail... /usr/sbin/sendmail
   checking whether system uses EBCDIC... no
   checking whether byte ordering is bigendian... no
   checking whether writing to stdout works... This is the test message -- yes
   checking for socket... yes
   checking for socketpair... yes
   checking for htonl... yes
   checking for gethostname... yes
   checking for gethostbyaddr... yes
   checking for yp_get_default_domain... no
   checking for __yp_get_default_domain... no
   checking for yp_get_default_domain in -lnsl... yes
   checking for dlopen... no
   checking for __dlopen... no
   checking for dlopen in -ldl... yes
   checking for sin in -lm... yes
   checking for inet_aton... yes
   checking for ANSI C header files... (cached) yes
   checking for dirent.h that defines DIR... yes
   checking for library containing opendir... none required
   checking for inttypes.h... (cached) yes
   checking for stdint.h... (cached) yes
   checking for dirent.h... yes
   checking for ApplicationServices/ApplicationServices.h... no
   checking for sys/param.h... yes
   checking for sys/types.h... (cached) yes
   checking for sys/time.h... (cached) yes
   checking for netinet/in.h... (cached) yes
   checking for alloca.h... yes
   checking for arpa/inet.h... (cached) yes
   checking for arpa/nameser.h... yes
   checking for assert.h... yes
   checking for crypt.h... yes
   checking for dns.h... no
   checking for fcntl.h... (cached) yes
   checking for grp.h... yes
   checking for ieeefp.h... no
   checking for langinfo.h... yes
   checking for limits.h... yes
   checking for locale.h... yes
   checking for monetary.h... yes
   checking for netdb.h... yes
   checking for poll.h... yes
   checking for pwd.h... yes
   checking for resolv.h... yes
   checking for signal.h... yes
   checking for stdarg.h... yes
   checking for stdlib.h... (cached) yes
   checking for string.h... (cached) yes
   checking for syslog.h... yes
   checking for sysexits.h... (cached) yes
   checking for sys/ioctl.h... yes
   checking for sys/file.h... yes
   checking for sys/mman.h... yes
   checking for sys/mount.h... yes
   checking for sys/poll.h... yes
   checking for sys/resource.h... yes
   checking for sys/select.h... (cached) yes
   checking for sys/socket.h... (cached) yes
   checking for sys/stat.h... (cached) yes
   checking for sys/statfs.h... yes
   checking for sys/statvfs.h... yes
   checking for sys/vfs.h... yes
   checking for sys/sysexits.h... no
   checking for sys/varargs.h... no
   checking for sys/wait.h... yes
   checking for sys/loadavg.h... no
   checking for termios.h... yes
   checking for unistd.h... (cached) yes
   checking for unix.h... no
   checking for utime.h... yes
   checking for sys/utsname.h... yes
   checking for sys/ipc.h... yes
   checking for dlfcn.h... yes
   checking for assert.h... (cached) yes
   checking for tmmintrin.h... no
   checking for nmmintrin.h... no
   checking for immintrin.h... yes
   checking for fopencookie... yes
   checking for broken getcwd... no
   checking for broken libc stdio... yes
   checking for broken gcc optimize-strlen... no
   checking whether struct tm is in sys/time.h or time.h... time.h
   checking for struct tm.tm_zone... yes
   checking for missing declarations of reentrant functions... done
   checking for fclose declaration... ok
   checking for tm_gmtoff in struct tm... yes
   checking for struct flock... yes
   checking for socklen_t... yes
   checking size of size_t... 8
   checking size of long long... 8
   checking size of long long int... 8
   checking size of long... 8
   checking size of int... 4
   checking size of intmax_t... 8
   checking size of ssize_t... 8
   checking size of ptrdiff_t... 8
   checking size of short... 2
   checking size of int... (cached) 4
   checking size of long... (cached) 8
   checking size of long long... (cached) 8
   checking for int8... no
   checking for int16... no
   checking for int32... no
   checking for int64... no
   checking for int8_t... yes
   checking for int16_t... yes
   checking for int32_t... yes
   checking for int64_t... yes
   checking for uint8... no
   checking for uint16... no
   checking for uint32... no
   checking for uint64... no
   checking for uint8_t... yes
   checking for uint16_t... yes
   checking for uint32_t... yes
   checking for uint64_t... yes
   checking for u_int8_t... yes
   checking for u_int16_t... yes
   checking for u_int32_t... yes
   checking for u_int64_t... yes
   checking for __builtin_expect... yes
   checking for __builtin_clz... yes
   checking for __builtin_ctzl... yes
   checking for __builtin_ctzll... yes
   checking for __builtin_smull_overflow... no
   checking for __builtin_smulll_overflow... no
   checking for __builtin_saddl_overflow... no
   checking for __builtin_saddll_overflow... no
   checking for __builtin_ssubl_overflow... no
   checking for __builtin_ssubll_overflow... no
   checking for __builtin_cpu_init... yes
   checking for __builtin_cpu_supports... yes
   checking for ssse3 instructions supports... yes
   checking for sse4.2 instructions supports... yes
   checking for avx instructions supports... yes
   checking for avx2 instructions supports... yes
   checking whether __SSE4_2__ is defined... no
   checking for struct stat.st_blksize... yes
   checking for struct stat.st_rdev... yes
   checking for struct stat.st_blocks... yes
   checking for size_t... yes
   checking for uid_t in sys/types.h... yes
   checking for struct sockaddr_storage... yes
   checking for field sa_len in struct sockaddr... no
   checking for __attribute__((ifunc))... yes
   checking for __attribute__((target))... yes
   checking for IPv6 support... yes
   checking for vprintf... yes
   checking for _doprnt... no
   checking for alphasort... yes
   checking for asctime_r... yes
   checking for chroot... yes
   checking for ctime_r... yes
   checking for cuserid... yes
   checking for crypt... no
   checking for explicit_memset... no
   checking for flock... yes
   checking for ftok... yes
   checking for funopen... no
   checking for gai_strerror... yes
   checking for gcvt... yes
   checking for getloadavg... yes
   checking for getlogin... yes
   checking for getprotobyname... yes
   checking for getprotobynumber... yes
   checking for getservbyname... yes
   checking for getservbyport... yes
   checking for gethostname... (cached) yes
   checking for getrusage... yes
   checking for gettimeofday... yes
   checking for gmtime_r... yes
   checking for getpwnam_r... yes
   checking for getgrnam_r... yes
   checking for getpwuid_r... yes
   checking for grantpt... yes
   checking for inet_ntoa... yes
   checking for inet_ntop... yes
   checking for inet_pton... yes
   checking for isascii... yes
   checking for link... yes
   checking for localtime_r... yes
   checking for lockf... yes
   checking for lchown... yes
   checking for lrand48... yes
   checking for memcpy... yes
   checking for memmove... yes
   checking for mkstemp... yes
   checking for mmap... yes
   checking for nl_langinfo... yes
   checking for perror... yes
   checking for poll... yes
   checking for ptsname... yes
   checking for putenv... yes
   checking for realpath... yes
   checking for random... yes
   checking for rand_r... yes
   checking for scandir... yes
   checking for setitimer... yes
   checking for setlocale... yes
   checking for localeconv... yes
   checking for setenv... (cached) yes
   checking for setpgid... yes
   checking for setsockopt... yes
   checking for setvbuf... yes
   checking for shutdown... yes
   checking for sin... yes
   checking for snprintf... yes
   checking for srand48... yes
   checking for srandom... yes
   checking for statfs... yes
   checking for statvfs... yes
   checking for std_syslog... no
   checking for strcasecmp... yes
   checking for strcoll... yes
   checking for strdup... yes
   checking for strerror... yes
   checking for strftime... yes
   checking for strnlen... yes
   checking for strptime... yes
   checking for strstr... yes
   checking for strtok_r... yes
   checking for symlink... yes
   checking for tempnam... yes
   checking for tzset... yes
   checking for unlockpt... yes
   checking for unsetenv... yes
   checking for usleep... yes
   checking for utime... yes
   checking for vsnprintf... yes
   checking for vasprintf... yes
   checking for asprintf... yes
   checking for nanosleep... yes
   checking for nanosleep in -lrt... yes
   checking for getaddrinfo... yes
   checking for __sync_fetch_and_add... yes
   checking for strlcat... no
   checking for strlcpy... no
   checking for explicit_bzero... no
   checking for getopt... yes
   checking for utime.h... (cached) yes
   checking whether utime accepts a null argument... yes
   checking for working alloca.h... yes
   checking for alloca... yes
   checking for declared timezone... yes
   checking for type of reentrant time-related functions... POSIX
   checking for readdir_r... yes
   checking for type of readdir_r... POSIX
   checking for in_addr_t... yes
   checking for crypt_r... no
   checking for asm goto... yes
   checking whether compiler supports VLA... yes
   checking whether to enable valgrind support... yes
   checking for valgrind header... not found

   General settings
   checking whether to include gcov symbols... no
   checking whether to include debugging symbols... no
   checking layout of installed files... PHP
   checking path to configuration file... /usr/local/php/etc
   checking where to scan for configuration files... 
   checking whether to enable PHP's own SIGCHLD handler... no
   checking whether to explicitly link against libgcc... no
   checking whether to enable short tags by default... yes
   checking whether to enable dmalloc... no
   checking whether to enable IPv6 support... yes
   checking whether to enable DTrace support... no
   checking how big to make fd sets... using system default

   Configuring extensions
   checking for strings.h... (cached) yes
   checking io.h usability... no
   checking io.h presence... no
   checking for io.h... no
   checking for strtoll... yes
   checking for atoll... yes
   checking whether to enable LIBXML support... yes
   checking libxml2 install dir... no
   checking for xml2-config path... 
   checking for pkg-config... /usr/bin/pkg-config
   ***configure: error: libxml2 not found. Please check your libxml2 installation.***

   再次报错，libxml2 not found.

   rpm -qa|grep libxml2
    yum install -y libxml2-devel

   然后再安装编译那一长串一次

   ![1571299183425](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571299183425.png)

   又报错了
   ![1571299294554](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571299294554.png)

    yum install -y openssl-devel 
    yum install -y bzip2-devel 

   ![1571299473690](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571299473690.png)

   再次编译还有个报错，然后解决呗！

    yum install -y libpng-devel 

   直接全手工安装一些拓展吧！

    yum install -y freetype-devel 
   再次编译检查

   ![1571299701100](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571299701100.png)

   终于好了
   参考链接：  http://m.sohu.com/a/339448740_120149005 

4. 编译并安装
   make && make install

   ![1571303132108](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571303132108.png)

5. 配置php使用

   ```
   拷贝php配置文件
   cp php.ini-production /usr/local/php/etc/php.ini
   #拷贝php-fpm服务并赋予执行权限
   cp sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm
   chmod` `+x /etc/init.d/php-fpm
   # 拷贝php-fpm进程服务的配置文件和扩展配置文件
   cp /usr/local/php/etc/php-fpm.conf.``default` `/usr/local/php/etc/php-fpm.conf
   cp /usr/local/php/etc/php-fpm.d/www.conf.``default` `/usr/local/php/etc/php-fpm.d/www.conf
   # 配置安装目录(可选)
   vi /usr/local/php/etc/php-fpm.conf
   # php-fpm.conf最后一行，``include``的路径要对应于自己的安装目录 shift + g 跳最后一行 ，gg第一行
   include``=/usr/local/php/etc/php-fpm.d/*.conf
   # 设置php环境变量
   vi /etc/profile.d/php.sh 
   export PATH=``$PATH``:/usr/local/php/bin/:/usr/local/php/sbin/ 
   source /etc/profile.d/php.sh
   # 设置PHP环境命令快捷方式 php -v
   ln -s /usr/local/php/bin/php /usr/bin/php
   ```

![1571305092018](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571305092018.png)



![1571307227967](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571307227967.png)

![1571307422837](C:\Users\袁飞\AppData\Roaming\Typora\typora-user-images\1571307422837.png)

    server {
        listen       8081 default_server;
        listen       [::]:8081 default_server;
        server_name  _;
        root         /usr/share/nginx/html;
        index        index.html index.htm index.php;
    
        # Load configuration files for the default server block.
        include /etc/nginx/default.d/*.conf;
    
        location ~ \.php$ {
        root         html;
        fastcgi_pass    127.0.0.1:9000;
        fastcgi_index   index.php
        fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include         fastcgi_params;
        }

 https://www.jb51.net/article/171435.htm 